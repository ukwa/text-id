/*********************************************************************N
 * A - Aa Aa a Aa.aN
 *N
 * Aa (a) 0 A aN
 *N
 * A Aa <a://a.a/a/a/a/a/A.a>N
 ********************************************************************/N
N
#a A_A_A_A_N
#a A_A_A_A_N
N
a AaAa {N
 a:N
  AaAa() {N
    a_ = 0;N
  }N
N
N
  a ~AaAa() {N
    a (a().AaAa()) {N
      a;N
    }N
N
    a().AaAa();N
    a().Aa();N
  }N
N
N
  a <a A>N
  a a A* Aa(a0::Aa<a0::Aa> a) {N
    a(!a.AaAa());N
    a(a->AaAaAa() > 0);N
    // Aa a AaAa a a a A.  A a a a aN
    // a A a'a a a a A a a a a a a.N
    a* a = AaAaAaAa(a, 0);N
    AaAa* a = a_a<AaAa*>(a);N
    a a_a<A*>(a);N
  }N
N
N
  a a0::Aa<a0::Aa> a() a {N
    a Aa(a_);N
  }N
N
N
  a Aa<a0::Aa>& a() {N
    a a_;N
  }N
N
N
 a:N
  a a Aa(a0::Aa<a0::Aa> a) {N
    a(a().AaAa());N
    a(a->AaAaAa() > 0);N
    AaAaAaAa(a, 0, a);N
    a().Aa(a);N
    AaAa();N
  }N
N
#a a(A0_A_A) && (A0_A_A > 0 ||                      \N
  (A0_A_A == 0 && a(A0_A_A) && A0_A_A >= 0))N
N
  a a AaAa() {N
    a().a0::AaAa<a0::Aa>::AaAa(N
        a, AaAa, a0::AaAaAa::aAa);N
#a A_A_A < 0N
    // A(a) Aa a a a Aa.a a a.N
    a().AaAa();N
#aN
  }N
N
#a A_A_A > A_0_0_A_AN
N
  a a AaAa() {N
    a().a0::AaAa<a0::Aa>::AaAa(a, AaAa);N
    a().AaAa();N
  }N
N
#aN
N
  a a AaAa() {N
    a().a.AaAa(a, AaAa);N
    a().AaAa();N
  }N
N
#aN
N
  /* Aa() a a a a a a a a a a.N
   * Aa a a a a a a, a aN
   * a a a a.N
   */N
  a a Aa() {N
    a(!a().AaAa());N
    a().AaAa();N
    a_++;N
  }N
N
  /* Aa() a a a a a a a a a.  Aa a aN
   * a a.  Aa a a a a "a" a a aN
   * a a a a a a a a. Aa a a a aN
   * a a a a a a a a a a a!N
   * (A "a a" a a a a a a aN
   * a a.)N
   *N
   * A A A A A AN
   */N
  a a Aa() {N
    a(!a().AaAa());N
    a(!a().AaAa());N
    a(a_ > 0);N
    a (--a_ == 0)N
      AaAa();N
  }N
N
  a a_;  // aN
N
 a:N
  A_A_A_A_A(AaAa)N
#a a(A0_A_A) && (A0_A_A > 0 ||                      \N
  (A0_A_A == 0 && a(A0_A_A) && A0_A_A >= 0))N
N
  a aN
  AaAa(a0::AaAaAa<AaAa> a& a) {N
    AaAa* a = a.AaAa();N
    a(a->a_ == 0);N
    a->a_.Aa();N
    a a;N
  }N
N
#a A_A_A > A_0_0_A_AN
N
  a aN
  AaAa(a0::AaAaAa<a0::Aa, AaAa> a& a) {N
    AaAa* a = a.AaAa();N
    a(a->a_ == 0);N
    a(a->a_.AaAaAa());N
    a->a_.Aa();N
    a a;N
  }N
N
#aN
N
  a a AaAa(a0::Aa<a0::Aa> a, a *a) {N
    AaAa *a = a_a<AaAa*>(a);N
    a(a->a_ == 0);N
    a(a->a_.AaAaAa());N
    a->a_.Aa();N
    a a;N
  }N
N
#aN
  Aa<a0::Aa> a_;N
};N
N
N
#a  // A_A_A_A_N
