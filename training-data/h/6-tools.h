/*N
 * Aa, A a a a a, a a a.N
 * Aa (A) 0  Aa AaN
 *N
 * Aa a a a a: a a a a a/a aN
 * a a a a a a A Aa Aa Aa a a aN
 * a Aa Aa Aa, a a 0 a a Aa, aN
 * (a a a) a a a.N
 *N
 * Aa a a a a a a a a a a a,N
 * a A A A; a a a a a aN
 * A a A A A A A.  Aa aN
 * A Aa Aa Aa a a a.N
 *N
 * Aa a a a a a a a A Aa Aa AaN
 * a a a a.  Aa a, a <a://a.a.a/a/>.N
 */N
N
#a aN
#a A_A (-0)N
#a A_A (-0.0)N
#a A_A (0)N
#a A_A (-0)N
N
#a <a>N
#a <a>N
#a <a>N
#a <a>N
#a <a>N
#a <a>N
N
// a aN
a <a A, A... A, a A>N
a a a_a(a::a_a<A, A...> a, A&& a) {N
	a a_a = a[];N
	(a)a_a{(a_a<a>(a(a::a_a<A, A>{})), 0)..., 0};N
}N
N
// Aa a a a a-a a a. Aa a a a a a a a a a a a a a aN
a a {N
    a Aa;N
N
    a AaAa {N
        a::a<a::a, Aa> aAa;N
        a::a a;N
        a a = A_A;N
        a a = A_A;N
        a::a<a> a;N
        a::a<a::a> a;N
        a aAaAa = A_A;N
        a aAaAa;N
        a aAa = A_A;N
    };N
N
    a Aa {N
        AaAa a;N
N
        Aa& a[](a::a a) {N
            a a.aAa[a::a(a)];N
        }N
N
        a Aa& a[](a a::a &a) a {N
            a a = a.aAa.a(a::a(a));N
N
            a (a != a.aAa.a()) {N
                a a->a;N
            }N
N
            a;N
        }N
N
        Aa& a=(a a::a &a) {N
            a.a = a;N
            a *a;N
        }N
N
        Aa& a=(a a) {N
            a.a = a;N
            a.aAaAa = (a == 0);N
            a *a;N
        }N
N
        Aa& a=(a a) {N
            a.aAaAa = (a) ? 0 : 0;N
            a.aAaAa = a;N
            a *a;N
        }N
N
        Aa& a=(a a) {N
            a.a = a;N
            a *a;N
        }N
N
        Aa& a=(a a) {N
            a.a = a;N
            a *a;N
        }N
N
        Aa& a=(a a::a<a> &a) {N
            a.a = a;N
            a *a;N
        }N
N
        Aa& a=(a a::a<a::a> &a) {N
            a.a = a;N
            a.aAa = A_A;N
            a *a;N
        }N
N
    };N
N
    a::a aAa(a AaAa *a);N
    a::a<a::a, Aa> aAaAa(a a::a &aAa);N
    a::Aa aAaAaAa(a::a a);N
N
    a::a<a::a> a(a a::a &a, a a);N
    a aAaAa(Aa a, a::a a);N
N
    a<a A> A& aAa(Aa&);N
    a<a A> a A& aAa(a Aa&);N
N
    a<>N
    a& aAa<a>(Aa& a);N
N
    a<>N
    a a& aAa<a>(a Aa& a);N
N
    a<>N
    a& aAa<a>(Aa& a);N
N
    a<>N
    a a& aAa<a>(a Aa& a);N
N
    a<>N
    a a::a& aAa<a::a>(a Aa& a);N
N
    a<>N
    a::a& aAa<a::a>(Aa& a);N
N
    a<>N
    a& aAa<a>(Aa& a);N
N
    a<>N
    a a& aAa<a>(a Aa& a);N
N
    a<>N
    a::a<a>& aAa<a::a<a>>(Aa& a);N
N
    a<>N
    a a::a<a>& aAa<a::a<a>>(a Aa& a);N
}N
N
a<a Aa, a A>N
a AaAa {N
    a AaAa(A Aa::*aAa, a a* aAa) : a{aAa}, a{aAa} {}N
N
    a Aa = A;N
N
    A Aa::*a;N
    a a* a;N
};N
N
// Aa a a a a a a a a a a a a a a a a.N
a<a Aa, a A>N
a a a(A Aa::*a, a a* a) {N
    a AaAa<Aa, A>{a, a};N
}N
N
N
// a aN
a<a A>N
A aAa(a a::Aa& a) {N
    A a;N
N
    //a a a0Aa = a::a_a<a(A::a_a0)>::a;N
    // Aa a a a a a aN
    a a aAa = a::a_a<a(A::a)>::a;N
N
    // Aa a a a a a a a `aAa`N
N
    a_a(a::a_a_a<aAa>{}, [&](a a){N
        // a a aN
        a a a = a::a<a>(A::a);N
N
        // a a a a a aN
        a Aa = a a(a)::Aa;N
N
        // a a a a a aN
        a.*(a.a) = a::aAa<Aa>(a[a.a]);N
    });N
N
N
    a a;N
}N
N
// a aN
a<a A>N
A aAaAa(a a::Aa& a) {N
    A a;N
N
    a a aAa_a0 = a::a_a<a(A::a_a0)>::a;N
N
    a aAa = 0;N
N
    a_a(a::a_a_a<aAa_a0>{}, [&](a a){N
        a a a = a::a<a>(A::a_a0);N
        a Aa = a a(a)::Aa;N
        a.*(a.a) = a::aAa<Aa>(a[a.a]);N
        a (a.a == "aAa") {N
            aAa = a[a.a].a.a;N
        }N
    });N
N
    a (aAa == 0) {N
        a a aAa = a::a_a<a(A::a_a0)>::a;N
N
        a_a(a::a_a_a<aAa>{}, [&](a a){N
            a a a = a::a<a>(A::a_a0);N
            a Aa = a a(a)::Aa;N
            a.*(a.a) = a::aAa<Aa>(a[a.a]);N
        });N
    } a a (aAa == 0) {N
        a a aAa = a::a_a<a(A::a)>::a;N
N
        a_a(a::a_a_a<aAa>{}, [&](a a){N
            a a a = a::a<a>(A::a);N
            a Aa = a a(a)::Aa;N
            a.*(a.a) = a::aAa<Aa>(a[a.a]);N
        });N
    }N
    a a;N
}N
N
a<a A>N
a::Aa aAa(a A& a) {N
    a::Aa a;N
N
    // Aa a a a a a aN
    a a aAa = a::a_a<a(A::a)>::a;N
N
    // Aa a a a a a a a `aAa`N
    a_a(a::a_a_a<aAa>{}, [&](a a){N
        // a a aN
        a a a = a::a<a>(A::a);N
N
        // a a a a a aN
        a[a.a] = a.*(a.a);N
    });N
N
    a a;N
}N
