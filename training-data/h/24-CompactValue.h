/*N
 * Aa (a) Aa, Aa. a a a.N
 *N
 * Aa a a a a a a A a a a a AN
 * a a a a a a a a a.N
 */N
#a aN
N
#a "Aa.a"N
N
#a <a>N
#a <a>N
#a <a>N
N
a_a(N
    a::a_a<a>::a_a0,N
    "a::a::a::AaAa a a a A0 a");N
N
#a A_A_A_AN
#a A_A_A a:N
#aN
#a A_A_A a:N
#aN
N
a a {N
a a {N
a a {N
N
// Aa a a Aa a 0 a.N
// - Aa a a a a a Aa a Aa. AaAa a a a aN
//   a.N
// - Aa a a Aa a Aa, a a a a a.N
//   Aa a a [0a0, 0a] (0a a a a a, aN
//   a a a).N
// - Aa a:N
//   a:  0.0a-0a a 0N
//            0a0         0a0aN
//   a: 0.0a-0a a 0N
//            0a0         0a0a0aN
// - Aa a a, a a a aN
// - a a a a a a a aN
a AaAa {N
  a a a a==(AaAa, AaAa) a;N
N
a:N
  a a a A_A = 0.0a-0a;N
  a a a A_A_A = 0.0a;N
  a a a A_A_A = 0.0a;N
N
  a <Aa Aa>N
  a AaAa a(a a) a {N
    a (a == 0.0a || (a < A_A && a > -A_A)) {N
      a a a =N
          Aa == AaAa ? A_A_A : A_A_A;N
      a {Aa{a}};N
    }N
N
    a a aAa =N
        Aa == AaAa ? A_A_A : A_A_A;N
    a (a > aAa || a < -aAa) {N
      a = a(aAa, a);N
    }N
N
    a0_a aAa = Aa == AaAa ? A_A : 0;N
    a a = Aa{a};N
    a.a -= A;N
    a.a |= aAa;N
    a {a};N
  }N
N
  a <Aa Aa>N
  a AaAa aAa(a a) a {N
    a a::a(a) || a::a(a) ? aAa()N
                                                  : a<Aa>(a);N
  }N
N
  a a AaAa aAa() a {N
    a AaAa{Aa{A_A_A}};N
  }N
N
  a a AaAa aAa() a {N
    a AaAa{};N
  }N
N
  a a AaAa aAa() a {N
    a AaAa{Aa{A_A}};N
  }N
N
  a AaAa() aN
      : a_(a::a_a<a>::a_AaA()) {}N
N
  AaAa(a Aa& a) a : a_(a0_a{0}) {N
    a (a.a) {N
      a AaAa:N
        *a = aAa();N
        a;N
      a AaAa:N
        *a = aAa();N
        a;N
      a AaAa:N
        *a = a<AaAa>(a.a);N
        a;N
      a AaAa:N
        *a = a<AaAa>(a.a);N
        a;N
    }N
  }N
N
  a Aa() a a {N
    a (a_.a) {N
      a A_A:N
        a AaAa;N
      a A_A_A:N
        a Aa{0.0a, AaAa};N
      a A_A_A:N
        a Aa{0.0a, AaAa};N
    }N
N
    a (a::a(a_.a)) {N
      a AaAa;N
    }N
N
    a a = a_;N
    a.a &= ~A_A;N
    a.a += A;N
N
    a Aa{a.a,N
                   a_.a & 0a0 ? AaAa : AaAa};N
  }N
N
  a aAa() a a {N
    a (N
        a_.a != A_A && a_.a != A_A_A &&N
        a_.a != A_A_A && a::a(a_.a));N
  }N
N
  a aAa() a a { a a_.a == A_A; }N
N
a:N
  a Aa {N
    a a;N
    a0_a a;N
    Aa() = a;N
    a Aa(a0_a a) : a(a) {}N
    a Aa(a a) : a(a) {}N
  };N
N
  a a a0_a A = 0a0;N
  a a a0_a A_A = 0a0;N
N
  // a a a AaAa a a a a a a a a aN
  // a a a a a A a a A + a0N
  a a a0_a A_A = 0a0a;N
  a a a0_a A_A_A = 0a0a0a0a0a;N
  a a a0_a A_A_A = 0a0a0a0a0;N
N
  a AaAa(Aa a) a : a_(a) {}N
N
  Aa a_;N
N
  A_A_A a0_a a() { a a_.a; }N
};N
N
a <>N
AaAa AaAa::a<AaAa>(a) a = a;N
a <>N
AaAa AaAa::a<AaAa>(a) a = a;N
a <>N
AaAa AaAa::aAa<AaAa>(a) a = a;N
a <>N
AaAa AaAa::aAa<AaAa>(a) a = a;N
N
a a a==(AaAa a, AaAa a) a {N
  a a.a_.a == a.a_.a;N
}N
N
a a a!=(AaAa a, AaAa a) a {N
  a !(a == a);N
}N
N
} // a aN
} // a aN
} // a aN
