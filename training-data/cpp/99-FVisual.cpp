// Aa.a: a a a Aa a.N
//N
//////////////////////////////////////////////////////////////////////N
N
#a "a.a"N
#a aN
N
#a a(a:0)N
#a <a0a0.a>N
#a a(a:0)N
N
#a "..\A_0A\a.a"N
#a "a.a"N
N
//////////////////////////////////////////////////////////////////////N
// Aa/AaN
//////////////////////////////////////////////////////////////////////N
N
Aa::Aa()  : Aa_Aa()N
{N
	a_a	=	0;N
}N
N
Aa::~Aa()N
{N
	a_a	(a_a);N
}N
N
a Aa::Aa	()N
{N
	Aa_Aa::Aa	();N
}N
N
a Aa::Aa		(a a* A, Aa *a, a0 aAa)N
{N
	Aa_Aa::Aa		(A,a,aAa);N
N
	A0A0	a		[A_A_A_A];N
	A0A0*	aAa	= 0;N
	aAa				= 0;N
	A				a_a=a;N
N
	a (a->a_a(A_A)) {N
N
		// aN
		a0 A				= a->a_a0					();N
		aAa				= a->a_a0					();N
		aAa				= a->a_a0					();N
N
		A				(A==a_a_Aa);N
N
		a_a_Aa		= Aa.aA			(A);N
		a_a_Aa->AaAa	();N
		aAa				= Aa.aA_Aa	(A);N
		a_a			= a;N
N
		// aN
		A					= a->a_a0				();N
		aAa				= a->a_a0				();N
		aAa				= a->a_a0				();N
		aAa		= aAa/0;N
N
		A				(A==a_a_Aa);N
		a_a_Aa		= Aa.aA		(A);N
		a_a_Aa->AaAa();N
N
#a A==A_A0N
		// a a a-aN
		a (a->a_a(A_A))		{N
			a<Aa>	a	(a->a_a		(A_A));N
			a<Aa>	a		(a().a_a	(A_A));N
N
			// a a a-aN
			a_a						= a_a<Aa_Aa>	();N
N
			// aN
			A0A0*	a		= 0;N
			A							= a().a_a0			();N
			a_a->aAa				= a().a_a0			();N
			a_a->aAa				= a().a_a0			();N
N
			A						(A==a_a->a_a_Aa);N
			a_a->a_a_Aa		= Aa.aA	(A,a);N
			a_a->a_a_Aa->AaAa();N
			a							= Aa.aA_Aa(A,a);N
N
			// aN
			A							= a().a_a0			();N
			a_a->aAa				= a().a_a0			();N
			a_a->aAa				= a().a_a0			();N
			a_a->aAa		= aAa/0;N
		N
			A						(A==a_a->a_a_Aa);N
			a_a->a_a_Aa		= Aa.aA	(A,a);N
			a_a->a_a_Aa->AaAa();N
N
			// aN
			a_a->a_a.a			(a,a_a->a_a_Aa,a_a->a_a_Aa);N
		}N
#aN
	}N
N
	// a aN
	a (!a_a && (aAa&A_A)==0) {N
		a (a->a_a(A_A)) {N
N
			a0 A				= a->a_a0				();N
			aAa				= a->a_a0				();N
			aAa				= a->a_a0				();N
			A				(A==a_a_Aa);N
			a_a_Aa		= Aa.aA			(A);N
			a_a_Aa->AaAa();N
			aAa				= Aa.aA_Aa	(A);N
N
		} a {N
			A_A			(a->a_a(A_A));N
			aAa				= 0;N
			a0 a				= a->a_a0				();N
			A_A				(A0AaAaA(a,a));N
			aAa				= a;N
			aAa				= a->a_a0				();N
			a0 aAa			= A0AaAaAa		(a);N
N
			A	aAa		= A.Aa.a.aAa || (aAa&A_A);N
			a0		aAa		= A0A_A | (aAa?A0A_A:0);N
			A*	a		= 0;N
			A				(A==a_a_Aa);N
			A_A				(A.aAa->AaAaAa(aAa*aAa,aAa,0,A0A_A,&a_a_Aa,0));N
			A_A				(a_a_Aa->Aa(0,0,(a**)&a,0));N
			AaAa			(a, a->a(), aAa*aAa);N
			a_a_Aa->Aa	();N
		}N
	}N
N
	// aN
	a (!a_a && (aAa&A_A)==0) {N
		aAa = 0;N
		a (a->a_a(A_A)) {N
N
			a0 A				= a->a_a0			();N
			aAa				= a->a_a0			();N
			aAa				= a->a_a0			();N
			aAa		= aAa/0;N
			A				(A==a_a_Aa);N
			a_a_Aa		= Aa.aA	(A);N
			a_a_Aa->AaAa	();N
N
		} a {N
			A_A			(a->a_a(A_A));N
			aAa				= 0;N
			aAa				= a->a_a0();N
			aAa		= aAa/0;N
N
			A	aAa		= A.Aa.a.aAa || (aAa&A_A);N
			a0		aAa		= /*A0A_A |*/ (aAa?A0A_A:0);	// a a a a a-a aN
			A*	a		= 0;N
N
			A				(A==a_a_Aa);N
			A_A				(A.aAa->AaAaAa(aAa*0,aAa,A0A_A0,A0A_A,&a_a_Aa,0));N
			A_A				(a_a_Aa->Aa(0,0,(a**)&a,0));N
			AaAa		(a, a->a(), aAa*0);N
			a_a_Aa->Aa	();N
		}N
	}N
N
	a (aAa&A_A || aAa&A_A)	a;N
	a	N
		a_a.a		(aAa,a_a_Aa,a_a_Aa);N
}N
N
a Aa::Aa		(a )N
{N
#a A==A_A0N
	a (a_a && Aa.a==Aa::A_A)N
	{N
		Aa.a_Aa		(a_a->a_a);N
		Aa.Aa			(A0A_A,a_a->aAa,0,a_a->aAa,a_a->aAa,a_a->aAa);N
		Aa.a.a.a_a.a	(a_a->aAa);N
	} a {N
		Aa.a_Aa		(a_a);N
		Aa.Aa			(A0A_A,aAa,0,aAa,aAa,aAa);N
		Aa.a.a.a_a.a	(aAa);N
	}N
#aN
	Aa.a_Aa			(a_a);N
	Aa.Aa				(A0A_A,aAa,0,aAa,aAa,aAa);N
	Aa.a.a.a_a.a	(aAa);N
#aN
}N
N
#a A(a)	a = aAa->aN
a	Aa::Aa			(Aa_Aa *aAa)N
{N
	Aa_Aa::Aa		(aAa);N
N
	Aa	*aAa				= a_a<Aa*> (aAa);N
N
	A	(a_a);N
N
	A	(a_a_Aa); a (a_a_Aa) a_a_Aa->AaAa();N
	A	(aAa);N
	A	(aAa);N
N
	A	(a_a_Aa); a (a_a_Aa) a_a_Aa->AaAa();N
	A	(aAa);N
	A	(aAa);N
	A	(aAa);N
N
	A	(a_a);N
}N
